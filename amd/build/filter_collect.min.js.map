{"version":3,"file":"filter_collect.min.js","sources":["../src/filter_collect.js"],"sourcesContent":["/* global bootstrap */\ndefine(['jquery', 'core/notification'], function($, Notification) {\n\n    /**\n     * Helper to retrieve modal elements, prioritizing the Block's modal if present.\n     * This ensures strict visual standardization.\n     */\n    var getModalElements = function() {\n        // 1. Tenta encontrar o Modal \"Original\" do Bloco\n        var root = $('#phItemModal');\n        var suffix = '';\n\n        // 2. Se n√£o existir (ex: p√°gina sem blocos), usa o Modal do Filtro (Fallback)\n        if (!root.length) {\n            root = $('#phItemModalFilter');\n            suffix = 'F';\n        }\n\n        return {\n            root: root,\n            // Seletores din√¢micos: tenta com ou sem o sufixo 'F'\n            title: $('#phModalTitle' + suffix),\n            name: $('#phModalName' + suffix),\n            desc: $('#phModalDesc' + suffix),\n            imgContainer: $('#phModalImageContainer' + suffix),\n            xp: $('#phModalXp' + suffix),\n            date: $('#phModalDate' + suffix),\n            dateContainer: $('#phModalDateContainer' + suffix)\n        };\n    };\n\n    /**\n     * Restores the button state in case of error or completion.\n     *\n     * @param {Object} btn The jQuery button element.\n     * @param {String} html The original HTML content of the button.\n     * @param {String} mode The display mode ('card', 'text', 'image').\n     * @param {String} width The original width of the button (for card mode).\n     */\n    var restaurar = function(btn, html, mode, width) {\n        btn.html(html).removeClass('disabled');\n        if (mode === 'card') {\n            btn.css('width', width);\n        } else {\n            btn.css('opacity', '1').css('pointer-events', 'auto');\n        }\n    };\n\n    /**\n     * Handles the visual state for Card Mode.\n     *\n     * @param {Object} trigger The clicked jQuery element.\n     * @param {Object} card The parent card jQuery element.\n     * @param {Boolean} hasTimer Whether the item is in cooldown.\n     * @param {Boolean} isLimit Whether the collection limit is reached.\n     * @param {Object} resp The server response object.\n     * @param {Object} strings The language strings object.\n     * @param {String} originalHtml The original HTML of the trigger.\n     */\n    var handleCardMode = function(trigger, card, hasTimer, isLimit, resp, strings, originalHtml) {\n        if (hasTimer) {\n            trigger.removeClass('btn-primary ph-action-collect').removeAttr('href');\n            var tHtml = '‚è≥ <span class=\"ph-timer\" data-deadline=\"' +\n                resp.cooldown_deadline + '\">...</span>';\n            var tBtn = $('<div class=\"btn btn-light btn-sm w-100 ph-text-dimmed\" tabindex=\"0\">' +\n                tHtml + '</div>');\n            trigger.replaceWith(tBtn);\n            tBtn.focus();\n        } else if (isLimit) {\n            trigger.removeClass('btn-primary ph-action-collect')\n                .addClass('btn-light text-success disabled border-success')\n                .css('cursor', 'default').removeAttr('href')\n                .html('<i class=\"fa fa-check\" aria-hidden=\"true\"></i> ' + strings.collected);\n            card.find('.ph-item-details-trigger').focus();\n        } else {\n            trigger.removeClass('btn-primary disabled').addClass('btn-success')\n                .html('<i class=\"fa fa-check\" aria-hidden=\"true\"></i> ' + strings.collected).css('width', '');\n            setTimeout(function() {\n                trigger.removeClass('btn-success').addClass('btn-primary')\n                    .html(originalHtml);\n                trigger.focus();\n            }, 1500);\n        }\n    };\n\n    /**\n     * Handles the visual state for Text and Image modes.\n     *\n     * @param {Object} trigger The clicked jQuery element.\n     * @param {String} mode The display mode ('text' or 'image').\n     * @param {Boolean} hasTimer Whether the item is in cooldown.\n     * @param {Boolean} isLimit Whether the collection limit is reached.\n     * @param {Object} resp The server response object.\n     */\n    var handleTextImageMode = function(trigger, mode, hasTimer, isLimit, resp) {\n        if (hasTimer || isLimit) {\n            if (mode === 'text') {\n                trigger.removeAttr('href').removeClass('ph-action-collect');\n                trigger.addClass('ph-item-details-trigger');\n                trigger.css('opacity', '1').css('pointer-events', 'auto').css('cursor', 'pointer');\n\n                if (isLimit) {\n                    trigger.addClass('text-success fw-bold')\n                        .html('<i class=\"fa fa-check\" aria-hidden=\"true\"></i> ' + trigger.text());\n                } else {\n                    trigger.addClass('ph-text-dimmed')\n                        .html('<span aria-hidden=\"true\">‚è≥</span> ' + trigger.text() +\n                        ' <small class=\"ph-timer\" data-deadline=\"' +\n                        resp.cooldown_deadline + '\">...</small>');\n                }\n            } else {\n                var container = trigger.closest('.ph-drop-image-container');\n                var imgWrapper = container.find('> div').first();\n                trigger.remove();\n\n                // Transforma container em gatilho\n                container.addClass('ph-item-details-trigger')\n                         .attr('tabindex', '0')\n                         .attr('role', 'button')\n                         .css('cursor', 'pointer');\n\n                if (isLimit) {\n                    imgWrapper.addClass('ph-state-grayscale');\n                    container.append('<span class=\"badge bg-success rounded-circle ph-badge-bottom-right\">' +\n                        '<i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>');\n                } else {\n                    imgWrapper.addClass('ph-state-dimmed');\n                    container.append('<div class=\"ph-timer badge bg-light text-dark border shadow-sm ph-badge-bottom-center\" ' +\n                        'data-deadline=\"' + resp.cooldown_deadline + '\" data-no-label=\"1\">...</div>');\n                }\n            }\n        } else {\n            if (mode === 'text') {\n                trigger.css('opacity', '1').css('pointer-events', 'auto');\n                var oldColor = trigger.css('color');\n                trigger.css('color', '#198754');\n                setTimeout(function() {\n                    trigger.css('color', oldColor);\n                }, 1000);\n            } else {\n                trigger.css('opacity', '1').css('pointer-events', 'auto');\n            }\n        }\n    };\n\n    /**\n     * Updates the main Widget and Sidebar HUDs.\n     *\n     * @param {Object} data General game data (XP, Level, Progress).\n     * @param {Object|null} itemData Data of the collected item (optional).\n     */\n    var updateHud = function(data, itemData) {\n        var containers = $('.playerhud-widget-container, .block_playerhud_sidebar');\n\n        containers.each(function() {\n            var container = $(this);\n\n            if (container.hasClass('playerhud-widget-container')) {\n                container.removeClass(function(index, className) {\n                    return (className.match(/(^|\\s)ph-lvl-tier-\\S+/g) || []).join(' ');\n                }).addClass(data.level_class);\n            }\n\n            var sidebarGrid = container.find('.ph-sidebar-grid');\n            if (sidebarGrid.length) {\n                sidebarGrid.removeClass(function(index, className) {\n                    return (className.match(/(^|\\s)ph-lvl-tier-\\S+/g) || []).join(' ');\n                }).addClass(data.level_class);\n            }\n\n            var progressBar = container.find('.progress-bar');\n            progressBar.css('width', data.progress + '%').attr('aria-valuenow', data.progress);\n            progressBar.removeClass(function(index, className) {\n                return (className.match(/(^|\\s)ph-lvl-tier-\\S+/g) || []).join(' ');\n            }).addClass(data.level_class);\n\n            var levelBadge = container.find('.badge').filter(function() {\n                return $(this).text().match(/(Level|N√≠vel)/) || $(this).attr('class').match(/ph-lvl-tier-/);\n            });\n\n            if (levelBadge.length) {\n                levelBadge.removeClass(function(index, className) {\n                    return (className.match(/(^|\\s)ph-lvl-tier-\\S+/g) || []).join(' ');\n                }).addClass(data.level_class);\n\n                var oldTxt = levelBadge.text();\n                var label = (oldTxt.indexOf('N√≠vel') > -1) ? 'N√≠vel' : 'Level';\n                var lvlString = data.level;\n                if (typeof data.max_levels !== 'undefined' && data.max_levels > 0) {\n                    lvlString += '/' + data.max_levels;\n                }\n                levelBadge.text(label + ' ' + lvlString);\n            }\n\n            container.find('span, div, strong').each(function() {\n                var el = $(this);\n                if (el.children().length === 0 && el.text().indexOf('XP') > -1) {\n                    var xpString = data.currentxp;\n                    if (typeof data.xp_target !== 'undefined' && data.xp_target > 0) {\n                        xpString += ' / ' + data.xp_target;\n                    }\n                    xpString += ' XP';\n                    if (data.is_win) {\n                        xpString += ' üèÜ';\n                    }\n                    el.text(xpString);\n                }\n            });\n        });\n\n        if (itemData) {\n            var stashes = $('.ph-sidebar-stash, .ph-widget-stash');\n\n            stashes.each(function() {\n                var stash = $(this);\n                var wrapper = stash.closest('.ph-stash-wrapper');\n                if (wrapper.length) {\n                    wrapper.show();\n                }\n\n                stash.find('.text-muted').remove();\n                stash.find('span.small.text-muted').remove();\n\n                var contentHtml = '';\n                if (String(itemData.isimage) === '1') {\n                    contentHtml = '<img src=\"' + itemData.image + '\" alt=\"\" ' +\n                        'style=\"width: 100%; height: 100%; object-fit: contain;\">';\n                } else {\n                    contentHtml = '<span class=\"ph-mini-emoji\" aria-hidden=\"true\" ' +\n                        'style=\"font-size:1.2rem; line-height: 1;\">' + itemData.image + '</span>';\n                }\n\n                var classes = 'ph-mini-item ph-item-trigger border bg-white rounded ' +\n                    'd-flex align-items-center justify-content-center overflow-hidden position-relative shadow-sm';\n\n                var newItem = $('<div class=\"' + classes + '\" role=\"button\" tabindex=\"0\"></div>');\n\n                newItem.css({\n                    'width': '34px',\n                    'height': '34px',\n                    'min-width': '34px',\n                    'margin-right': '2px',\n                    'margin-bottom': '2px'\n                });\n\n                // XP Formatado\n                var xpText = itemData.xp + ' XP';\n\n                newItem.attr('data-name', itemData.name);\n                newItem.attr('data-xp', xpText);\n                newItem.attr('data-image', itemData.image);\n                newItem.attr('data-isimage', itemData.isimage);\n\n                // Data Hoje (Feedback Imediato)\n                var today = new Date();\n                var dateStr = today.toLocaleDateString();\n                newItem.attr('data-date', dateStr);\n\n                newItem.attr('title', itemData.name);\n                newItem.attr('aria-label', itemData.name);\n\n                newItem.append('<div class=\"d-none ph-item-description-content\">' + (itemData.description || '') + '</div>');\n                newItem.append(contentHtml);\n\n                stash.children().filter(function() {\n                    return $(this).attr('data-name') === itemData.name;\n                }).remove();\n\n                newItem.hide();\n                stash.prepend(newItem);\n                newItem.fadeIn();\n\n                var limit = stash.hasClass('ph-widget-stash') ? 14 : 6;\n                var items = stash.children('.ph-mini-item');\n                if (items.length > limit) {\n                    items.last().remove();\n                }\n            });\n        }\n    };\n\n    return {\n        init: function(strings) {\n            var $filterModal = $('#phItemModalFilter');\n            if ($filterModal.length) {\n                $filterModal.appendTo('body');\n            }\n\n            // --- CLICK: ABRIR DETALHES DO ITEM ---\n            $('body').on('click keydown', '.ph-item-details-trigger', function(e) {\n                if (e.type === 'keydown' && e.key !== 'Enter' && e.key !== ' ') {\n                    return;\n                }\n                e.preventDefault();\n\n                var trigger = $(this);\n                var container = trigger.closest('.playerhud-item-card, .ph-drop-image-container, .ph-mini-item');\n                if (container.length === 0) {\n                    container = trigger;\n                }\n\n                var name = container.attr('data-name');\n                var descB64 = container.attr('data-desc-b64');\n                var descDirect = container.find('.ph-item-description-content').html();\n                var img = container.attr('data-image');\n                var isImg = container.attr('data-isimage');\n                var xp = container.attr('data-xp');\n                var date = container.attr('data-date');\n\n                // OBTER ELEMENTOS DO MODAL (Prioriza o do Bloco)\n                var modalEls = getModalElements();\n\n                // Se nenhum modal existir (erro grave), sai\n                if (!modalEls.root.length) {\n                    return;\n                }\n\n                // Preenche Campos\n                modalEls.title.text(name);\n                modalEls.name.text(name);\n\n                // Badge XP\n                if (xp && xp !== '0' && xp.indexOf('???') === -1) {\n                    modalEls.xp.text(xp).removeClass('d-none').show();\n                } else {\n                    modalEls.xp.hide();\n                }\n\n                // Descri√ß√£o\n                var descHtml = '...';\n                if (descDirect) {\n                    descHtml = descDirect;\n                } else if (descB64) {\n                    try {\n                        descHtml = decodeURIComponent(escape(window.atob(descB64)));\n                    } catch (err) {\n                        descHtml = '...';\n                    }\n                }\n                modalEls.desc.html(descHtml);\n\n                // Data de Coleta\n                if (date) {\n                    modalEls.date.text(date);\n                    modalEls.dateContainer.removeClass('d-none');\n                } else {\n                    modalEls.dateContainer.addClass('d-none');\n                }\n\n                // Imagem\n                modalEls.imgContainer.empty();\n                if (isImg == '1') {\n                    modalEls.imgContainer.append($('<img>', {src: img}));\n                } else {\n                    modalEls.imgContainer.append($('<span>', {text: img}));\n                }\n\n                // Show Modal (Bootstrap 5 Check)\n                var modalEl = modalEls.root[0];\n                if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {\n                    bootstrap.Modal.getOrCreateInstance(modalEl).show();\n                } else {\n                    modalEls.root.modal('show');\n                }\n            });\n\n            // --- CLICK: COLETAR ITEM (AJAX) ---\n            $('body').on('click', '.ph-action-collect', function(e) {\n                e.preventDefault();\n                var trigger = $(this);\n                var mode = trigger.attr('data-mode') || 'card';\n\n                if (trigger.hasClass('disabled') || trigger.attr('disabled')) {\n                    return;\n                }\n\n                var originalHtml = trigger.html();\n                var originalWidth = trigger.css('width');\n\n                if (mode === 'card') {\n                    trigger.css('width', trigger.outerWidth() + 'px');\n                    trigger.html('<i class=\"fa fa-spinner fa-spin\"></i>').addClass('disabled');\n                } else {\n                    trigger.css('opacity', '0.5').css('pointer-events', 'none');\n                }\n\n                var url = trigger.attr('href');\n                var ajaxUrl = url + (url.indexOf('?') === -1 ? '?' : '&') + 'ajax=1';\n\n                $.ajax({\n                    url: ajaxUrl,\n                    method: 'GET',\n                    dataType: 'json',\n                    success: function(resp) {\n                        if (resp.success) {\n                            var card = trigger.closest('.playerhud-item-card');\n\n                            if (card.length) {\n                                var badge = card.find('.ph-badge-count');\n                                var isUnique = card.attr('data-unique') === '1';\n\n                                if (!isUnique) {\n                                    var currentCount = parseInt(badge.text().replace('x', ''), 10) || 0;\n                                    badge.text('x' + (currentCount + 1)).removeClass('d-none').show();\n                                }\n\n                                var today = new Date();\n                                card.attr('data-date', today.toLocaleDateString());\n                            }\n\n                            if (mode === 'image') {\n                                var imgContainer = trigger.closest('.ph-drop-image-container');\n                                var todayImg = new Date();\n                                imgContainer.attr('data-date', todayImg.toLocaleDateString());\n                            }\n\n                            var hasTimer = (resp.cooldown_deadline && resp.cooldown_deadline > 0);\n                            var isLimit = resp.limit_reached;\n\n                            if (mode === 'text' || mode === 'image') {\n                                handleTextImageMode(trigger, mode, hasTimer, isLimit, resp);\n                            } else {\n                                handleCardMode(trigger, card, hasTimer, isLimit, resp, strings, originalHtml);\n                            }\n\n                            if (resp.game_data) {\n                                updateHud(resp.game_data, resp.item_data);\n                            }\n\n                        } else {\n                            restaurar(trigger, originalHtml, mode, originalWidth);\n                            Notification.alert('Ops', resp.message, 'OK');\n                        }\n                    },\n                    error: function() {\n                        restaurar(trigger, originalHtml, mode, originalWidth);\n                        Notification.alert('Erro', strings.error, 'OK');\n                    }\n                });\n            });\n        }\n    };\n});"],"names":["define","$","Notification","restaurar","btn","html","mode","width","removeClass","css","init","strings","$filterModal","length","appendTo","on","e","type","key","preventDefault","trigger","this","container","closest","root","suffix","name","attr","descB64","descDirect","find","img","isImg","xp","date","modalEls","title","desc","imgContainer","dateContainer","text","indexOf","show","hide","descHtml","decodeURIComponent","escape","window","atob","err","addClass","empty","append","src","modalEl","bootstrap","Modal","getOrCreateInstance","modal","hasClass","originalHtml","originalWidth","outerWidth","url","ajaxUrl","ajax","method","dataType","success","resp","card","badge","currentCount","parseInt","replace","today","Date","toLocaleDateString","todayImg","hasTimer","cooldown_deadline","isLimit","limit_reached","removeAttr","imgWrapper","first","remove","oldColor","setTimeout","handleTextImageMode","tHtml","tBtn","replaceWith","focus","collected","handleCardMode","game_data","data","itemData","item_data","each","index","className","match","join","level_class","sidebarGrid","progressBar","progress","levelBadge","filter","label","lvlString","level","max_levels","el","children","xpString","currentxp","xp_target","is_win","stash","wrapper","contentHtml","String","isimage","image","newItem","xpText","dateStr","description","prepend","fadeIn","limit","items","last","alert","message","error"],"mappings":"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"}