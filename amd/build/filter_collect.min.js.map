{"version":3,"file":"filter_collect.min.js","sources":["../src/filter_collect.js"],"sourcesContent":["/* global bootstrap */\ndefine(['jquery', 'core/notification'], function($, Notification) {\n\n    /**\n     * Restaura o estado do botão em caso de erro ou necessidade.\n     *\n     * @param {Object} btn O botão jQuery (trigger).\n     * @param {string} html O HTML original do botão.\n     * @param {string} mode O modo de exibição ('card', 'text', 'image').\n     * @param {string} width A largura original do botão (para modo card).\n     */\n    var restaurar = function(btn, html, mode, width) {\n        btn.html(html).removeClass('disabled');\n        if (mode === 'card') {\n            btn.css('width', width);\n        } else {\n            btn.css('opacity', '1').css('pointer-events', 'auto');\n        }\n    };\n\n    /**\n     * Manipula o estado visual do modo Cartão (Card).\n     *\n     * @param {Object} trigger O elemento jQuery clicado.\n     * @param {Object} card O elemento jQuery do cartão pai.\n     * @param {boolean} hasTimer Se existe cooldown ativo.\n     * @param {boolean} isLimit Se o limite de coleta foi atingido.\n     * @param {Object} resp A resposta do servidor contendo dados do cooldown.\n     * @param {Object} strings As strings de idioma traduzidas.\n     * @param {string} originalHtml O HTML original do botão.\n     */\n    var handleCardMode = function(trigger, card, hasTimer, isLimit, resp, strings, originalHtml) {\n        if (hasTimer) {\n            trigger.removeClass('btn-primary ph-action-collect').removeAttr('href');\n            var tHtml = '⏳ <span class=\"ph-timer\" data-deadline=\"' +\n                resp.cooldown_deadline + '\">...</span>';\n            var tBtn = $('<div class=\"btn btn-light btn-sm w-100 text-muted\" tabindex=\"0\">' +\n                tHtml + '</div>');\n            trigger.replaceWith(tBtn);\n            tBtn.focus();\n        } else if (isLimit) {\n            trigger.removeClass('btn-primary ph-action-collect')\n                .addClass('btn-success disabled')\n                .css('cursor', 'default').removeAttr('href')\n                .html('<i class=\"fa fa-check\"></i> ' + strings.collected);\n            // Foca na imagem (trigger de detalhes) pois o botão morreu.\n            card.find('.ph-item-details-trigger').focus();\n        } else {\n            // Sucesso Rápido (Feedback verde).\n            trigger.removeClass('btn-primary disabled').addClass('btn-success')\n                .html('<i class=\"fa fa-check\"></i> ' + strings.collected).css('width', '');\n            setTimeout(function() {\n                trigger.removeClass('btn-success').addClass('btn-primary')\n                    .html(originalHtml);\n                trigger.focus();\n            }, 1500);\n        }\n    };\n\n    /**\n     * Manipula o estado visual dos modos Texto e Imagem.\n     *\n     * @param {Object} trigger O elemento jQuery clicado.\n     * @param {string} mode O modo de exibição ('text' ou 'image').\n     * @param {boolean} hasTimer Se existe cooldown ativo.\n     * @param {boolean} isLimit Se o limite de coleta foi atingido.\n     * @param {Object} resp A resposta do servidor.\n     */\n    var handleTextImageMode = function(trigger, mode, hasTimer, isLimit, resp) {\n        // Se entrou em cooldown ou limite, transformamos em \"Visualizador de Detalhes\".\n        if (hasTimer || isLimit) {\n            // Remove href e classes de ação.\n            trigger.removeAttr('href').removeClass('ph-action-collect');\n            trigger.addClass('ph-item-details-trigger'); // Agora abre modal!\n            trigger.css('opacity', '1').css('pointer-events', 'auto').css('cursor', 'pointer');\n\n            if (mode === 'text') {\n                if (isLimit) {\n                    trigger.addClass('text-success')\n                        .html('<i class=\"fa fa-check\"></i> ' + trigger.text());\n                } else {\n                    // Cooldown Texto: Nome + Timer.\n                    trigger.addClass('text-muted')\n                        .html('⏳ ' + trigger.text() +\n                        ' <small class=\"ph-timer\" data-deadline=\"' +\n                        resp.cooldown_deadline + '\">...</small>');\n                }\n            } else {\n                // Image Mode.\n                if (isLimit) {\n                    // Adiciona badge de check.\n                    trigger.css('position', 'relative');\n                    trigger.append('<span class=\"badge bg-success rounded-circle\" ' +\n                        'style=\"position:absolute; bottom:-5px; right:-5px; font-size:0.6rem;\">' +\n                        '<i class=\"fa fa-check\"></i></span>');\n                    trigger.find('img, span').css('filter', 'grayscale(100%)').css('opacity', '0.6');\n                } else {\n                    // Adiciona timer embaixo.\n                    trigger.css('position', 'relative');\n                    trigger.find('img, span').css('opacity', '0.6');\n                    var badgeStyle = 'position:absolute; bottom:-10px; left:50%; ' +\n                                     'transform:translateX(-50%); font-size:0.6rem;';\n                    trigger.append('<div class=\"ph-timer badge bg-light text-dark border shadow-sm\" ' +\n                        'style=\"' + badgeStyle + '\" ' +\n                        'data-deadline=\"' + resp.cooldown_deadline + '\">...</div>');\n                }\n            }\n        } else {\n            // Coleta rápida (sem cooldown): Feedback visual breve.\n            trigger.css('opacity', '1').css('pointer-events', 'auto');\n            // Piscar verde.\n            var oldColor = trigger.css('color');\n            trigger.css('color', '#28a745');\n            setTimeout(function() {\n                trigger.css('color', oldColor);\n            }, 1000);\n        }\n    };\n\n    /**\n     * Atualiza o HUD principal (Widget) e o Bloco Lateral (Sidebar).\n     *\n     * @param {Object} data Dados gerais do jogo (XP, Nível, Progresso).\n     * @param {Object|null} itemData Dados do item recém coletado (opcional).\n     */\n    var updateHud = function(data, itemData) {\n        // --- 1. Atualiza Barras de Progresso e Textos (Widget + Sidebar) ---\n        var containers = $('.playerhud-widget-container, .block_playerhud_sidebar');\n\n        containers.each(function() {\n            var container = $(this);\n\n            // Atualiza a barra de progresso.\n            container.find('.progress-bar')\n                .css('width', data.progress + '%')\n                .attr('aria-valuenow', data.progress);\n\n            // Atualiza Textos Genéricos (XP e Nível) buscando por conteúdo.\n            // A busca é feita por nós de texto para evitar dependência de classes de layout.\n            container.find('span, div, strong').each(function() {\n                var el = $(this);\n                // Verifica se é apenas um nó de texto direto para não alterar filhos.\n                if (el.children().length === 0) {\n                    var txt = el.text();\n\n                    // Lógica para XP: \"Atual/Alvo XP\"\n                    if (txt.indexOf('XP') > -1) {\n                        var xpString = data.currentxp;\n                        // Verifica se o backend enviou o alvo (xp_target) para formatar \"100/1000\"\n                        if (typeof data.xp_target !== 'undefined' && data.xp_target > 0) {\n                            xpString += '/' + data.xp_target;\n                        }\n                        el.text(xpString + ' XP');\n                    }\n\n                    // Lógica para Nível: \"Nível X/Y\"\n                    if (txt.indexOf('Level') > -1 || txt.indexOf('Nível') > -1) {\n                        // Preserva o idioma original (Inglês ou Português)\n                        var label = (txt.indexOf('Nível') > -1) ? 'Nível' : 'Level';\n                        var lvlString = data.level;\n                        // Verifica se o backend enviou o nível máximo para formatar \"5/10\"\n                        if (typeof data.max_levels !== 'undefined' && data.max_levels > 0) {\n                            lvlString += '/' + data.max_levels;\n                        }\n                        el.text(label + ' ' + lvlString);\n                    }\n                }\n            });\n        });\n\n        // --- 2. Atualiza Itens (Sidebar + Widget Horizontal) ---\n        if (itemData) {\n            // Seleciona tanto o stash da sidebar quanto o do widget.\n            var stashes = $('.ph-sidebar-stash, .ph-widget-stash');\n\n            stashes.each(function() {\n                var stash = $(this);\n                // Mostra o wrapper pai (caso estivesse oculto por estar vazio)\n                var wrapper = stash.closest('.ph-stash-wrapper');\n                if (wrapper.length) {\n                    wrapper.show();\n                }\n\n                // Remove placeholder de \"vazio\" se existir.\n                stash.find('.text-muted').remove();\n\n                // Monta o HTML do conteúdo (Imagem ou Emoji).\n                var contentHtml = '';\n                // Conversão segura para string para comparação\n                if (String(itemData.isimage) === '1') {\n                    // Estilo inline para garantir object-fit em ambos os containers (widget/sidebar)\n                    contentHtml = '<img src=\"' + itemData.image + '\" alt=\"\" ' +\n                        'style=\"width: 100%; height: 100%; object-fit: contain;\">';\n                } else {\n                    contentHtml = '<span class=\"ph-mini-emoji\" aria-hidden=\"true\" ' +\n                        'style=\"font-size:1.2rem; line-height: 1;\">' + itemData.image + '</span>';\n                }\n\n                // Cria o elemento novo com as classes globais atualizadas.\n                var classes = 'ph-mini-item ph-item-trigger border bg-white rounded ' +\n                    'd-flex align-items-center justify-content-center overflow-hidden position-relative shadow-sm';\n\n                var newItem = $('<div class=\"' + classes + '\" role=\"button\" tabindex=\"0\"></div>');\n\n                // Define tamanho fixo via CSS inline para consistência imediata.\n                newItem.css({\n                    'width': '34px',\n                    'height': '34px',\n                    'min-width': '34px',\n                    'margin-right': '2px',\n                    'margin-bottom': '2px'\n                });\n\n                // Atributos de dados para o Modal\n                newItem.attr('data-name', itemData.name);\n                newItem.attr('data-xp', itemData.xp);\n                newItem.attr('data-image', itemData.image);\n                newItem.attr('data-isimage', itemData.isimage);\n                newItem.attr('data-date', itemData.date);\n                newItem.attr('title', itemData.name);\n                // Acessibilidade: Label para leitores de tela\n                newItem.attr('aria-label', itemData.name);\n\n                // Conteúdo oculto da descrição e o visual\n                newItem.append('<div class=\"d-none ph-item-description-content\">' + itemData.description + '</div>');\n                newItem.append(contentHtml);\n\n                // Remove duplicata (se o item já existir, remove o antigo para mover o novo para o início).\n                stash.children().filter(function() {\n                    return $(this).attr('data-name') === itemData.name;\n                }).remove();\n\n                // Insere no início com efeito de fade.\n                newItem.hide();\n                stash.prepend(newItem);\n                newItem.fadeIn();\n\n                // Limite visual de itens (Sidebar = 6, Widget = 14).\n                var limit = stash.hasClass('ph-widget-stash') ? 14 : 6;\n                var items = stash.children('.ph-mini-item');\n                if (items.length > limit) {\n                    items.last().remove();\n                }\n            });\n        }\n    };\n\n    return {\n        init: function(strings) {\n\n            var $modal = $('#phItemModalFilter');\n            if ($modal.length) {\n                $modal.appendTo('body');\n            }\n\n            // 1. Modal de Detalhes (Unificado para Card, Texto e Imagem).\n            $('body').on('click keydown', '.ph-item-details-trigger', function(e) {\n                if (e.type === 'keydown' && e.key !== 'Enter' && e.key !== ' ') {\n                    return;\n                }\n                e.preventDefault();\n\n                var trigger = $(this);\n                // Dados podem estar no próprio elemento ou num pai (card).\n                var container = trigger.closest('.playerhud-item-card');\n                if (container.length === 0) {\n                    container = trigger;\n                }\n\n                var name = container.attr('data-name');\n                var descB64 = container.attr('data-desc-b64');\n                var img = container.attr('data-image');\n                var isImg = container.attr('data-isimage');\n\n                $('#phModalTitleF, #phModalNameF').text(name);\n\n                var descHtml = '';\n                try {\n                    descHtml = decodeURIComponent(escape(window.atob(descB64)));\n                } catch (err) {\n                    descHtml = '...';\n                }\n                $('#phModalDescF').html(descHtml);\n\n                var imgCont = $('#phModalImageContainerF');\n                imgCont.empty();\n                if (isImg == '1') {\n                    imgCont.append($('<img>', {src: img, style: 'max-width:80px;'}));\n                } else {\n                    imgCont.append($('<span>', {style: 'font-size:50px;', text: img}));\n                }\n\n                var modalEl = document.getElementById('phItemModalFilter');\n                if (modalEl) {\n                    if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {\n                        bootstrap.Modal.getOrCreateInstance(modalEl).show();\n                    } else {\n                        $(modalEl).modal('show');\n                    }\n                }\n            });\n\n            // 2. Coleta AJAX.\n            $('body').on('click', '.ph-action-collect', function(e) {\n                e.preventDefault();\n                var trigger = $(this);\n                var mode = trigger.attr('data-mode') || 'card';\n\n                if (trigger.hasClass('disabled') || trigger.attr('disabled')) {\n                    return;\n                }\n\n                // Feedback visual de \"Carregando\"\n                var originalHtml = trigger.html();\n                var originalWidth = trigger.css('width');\n\n                if (mode === 'card') {\n                    trigger.css('width', trigger.outerWidth() + 'px');\n                    trigger.html('<i class=\"fa fa-spinner fa-spin\"></i>').addClass('disabled');\n                } else {\n                    trigger.css('opacity', '0.5').css('pointer-events', 'none');\n                }\n\n                var url = trigger.attr('href');\n                var ajaxUrl = url + (url.indexOf('?') === -1 ? '?' : '&') + 'ajax=1';\n\n                $.ajax({\n                    url: ajaxUrl,\n                    method: 'GET',\n                    dataType: 'json',\n                    success: function(resp) {\n                        if (resp.success) {\n                            // Atualiza Badge do Card (se existir)\n                            var card = trigger.closest('.playerhud-item-card');\n                            if (card.length) {\n                                var badge = card.find('.ph-badge-count');\n                                var currentCount = parseInt(badge.text().replace('x', ''), 10) || 0;\n                                badge.text('x' + (currentCount + 1)).show();\n                            }\n\n                            // Variáveis de estado\n                            var hasTimer = (resp.cooldown_deadline && resp.cooldown_deadline > 0);\n                            var isLimit = resp.limit_reached;\n\n                            // Atualiza o estado do botão/link no texto\n                            if (mode === 'text' || mode === 'image') {\n                                handleTextImageMode(trigger, mode, hasTimer, isLimit, resp);\n                            } else {\n                                handleCardMode(trigger, card, hasTimer, isLimit, resp, strings, originalHtml);\n                            }\n\n                            // ATUALIZAÇÃO DA SIDEBAR (Barra, Nível e Lista de Itens)\n                            if (resp.game_data) {\n                                updateHud(resp.game_data, resp.item_data);\n                            }\n\n                        } else {\n                            restaurar(trigger, originalHtml, mode, originalWidth);\n                            Notification.alert('Ops', resp.message, 'OK');\n                        }\n                    },\n                    error: function() {\n                        restaurar(trigger, originalHtml, mode, originalWidth);\n                        Notification.alert('Erro', strings.error, 'OK');\n                    }\n                });\n            });\n        }\n    };\n});\n"],"names":["define","$","Notification","restaurar","btn","html","mode","width","removeClass","css","init","strings","$modal","length","appendTo","on","e","type","key","preventDefault","trigger","this","container","closest","name","attr","descB64","img","isImg","text","descHtml","decodeURIComponent","escape","window","atob","err","imgCont","empty","append","src","style","modalEl","document","getElementById","bootstrap","Modal","getOrCreateInstance","show","modal","hasClass","originalHtml","originalWidth","outerWidth","addClass","url","ajaxUrl","indexOf","ajax","method","dataType","success","resp","card","badge","find","currentCount","parseInt","replace","hasTimer","cooldown_deadline","isLimit","limit_reached","removeAttr","oldColor","setTimeout","handleTextImageMode","tHtml","tBtn","replaceWith","focus","collected","handleCardMode","game_data","data","itemData","item_data","each","progress","el","children","txt","xpString","currentxp","xp_target","label","lvlString","level","max_levels","stash","wrapper","remove","contentHtml","String","isimage","image","newItem","xp","date","description","filter","hide","prepend","fadeIn","limit","items","last","alert","message","error"],"mappings":"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"}