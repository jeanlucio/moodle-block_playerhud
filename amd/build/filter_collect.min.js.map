{"version":3,"file":"filter_collect.min.js","sources":["../src/filter_collect.js"],"sourcesContent":["/* global bootstrap */\ndefine(['jquery', 'core/notification'], function($, Notification) {\n\n    /**\n     * Restores the button state in case of error or completion.\n     *\n     * @param {Object} btn The jQuery button element.\n     * @param {string} html The original HTML content of the button.\n     * @param {string} mode The display mode ('card', 'text', 'image').\n     * @param {string} width The original width of the button (for card mode).\n     */\n    var restaurar = function(btn, html, mode, width) {\n        btn.html(html).removeClass('disabled');\n        if (mode === 'card') {\n            btn.css('width', width);\n        } else {\n            btn.css('opacity', '1').css('pointer-events', 'auto');\n        }\n    };\n\n    /**\n     * Handles the visual state for Card Mode.\n     *\n     * @param {Object} trigger The clicked jQuery element.\n     * @param {Object} card The parent card jQuery element.\n     * @param {boolean} hasTimer Whether the item is in cooldown.\n     * @param {boolean} isLimit Whether the collection limit is reached.\n     * @param {Object} resp The server response object.\n     * @param {Object} strings The language strings object.\n     * @param {string} originalHtml The original HTML of the trigger.\n     */\n    var handleCardMode = function(trigger, card, hasTimer, isLimit, resp, strings, originalHtml) {\n        if (hasTimer) {\n            trigger.removeClass('btn-primary ph-action-collect').removeAttr('href');\n            var tHtml = '‚è≥ <span class=\"ph-timer\" data-deadline=\"' +\n                resp.cooldown_deadline + '\">...</span>';\n            var tBtn = $('<div class=\"btn btn-light btn-sm w-100 text-muted\" tabindex=\"0\">' +\n                tHtml + '</div>');\n            trigger.replaceWith(tBtn);\n            tBtn.focus();\n        } else if (isLimit) {\n            trigger.removeClass('btn-primary ph-action-collect')\n                .addClass('btn-success disabled')\n                .css('cursor', 'default').removeAttr('href')\n                .html('<i class=\"fa fa-check\"></i> ' + strings.collected);\n            // Focus on the image detail trigger since button is disabled.\n            card.find('.ph-item-details-trigger').focus();\n        } else {\n            // Quick success feedback.\n            trigger.removeClass('btn-primary disabled').addClass('btn-success')\n                .html('<i class=\"fa fa-check\"></i> ' + strings.collected).css('width', '');\n            setTimeout(function() {\n                trigger.removeClass('btn-success').addClass('btn-primary')\n                    .html(originalHtml);\n                trigger.focus();\n            }, 1500);\n        }\n    };\n\n    /**\n     * Handles the visual state for Text and Image modes.\n     *\n     * @param {Object} trigger The clicked jQuery element.\n     * @param {string} mode The display mode ('text' or 'image').\n     * @param {boolean} hasTimer Whether the item is in cooldown.\n     * @param {boolean} isLimit Whether the collection limit is reached.\n     * @param {Object} resp The server response object.\n     */\n    var handleTextImageMode = function(trigger, mode, hasTimer, isLimit, resp) {\n        if (hasTimer || isLimit) {\n\n            if (mode === 'text') {\n                // --- TEXT MODE ---\n                trigger.removeAttr('href').removeClass('ph-action-collect');\n                trigger.addClass('ph-item-details-trigger');\n                trigger.css('opacity', '1').css('pointer-events', 'auto').css('cursor', 'pointer');\n\n                if (isLimit) {\n                    trigger.addClass('text-success')\n                        .html('<i class=\"fa fa-check\"></i> ' + trigger.text());\n                } else {\n                    // Text with Timer.\n                    trigger.addClass('text-muted')\n                        .html('‚è≥ ' + trigger.text() +\n                        ' <small class=\"ph-timer\" data-deadline=\"' +\n                        resp.cooldown_deadline + '\">...</small>');\n                }\n\n            } else {\n                // --- IMAGE MODE ---\n                // Trigger is the <a> overlay. Container holds image and badges.\n                var container = trigger.closest('.ph-drop-image-container');\n                var imgWrapper = container.find('> div').first();\n\n                // 1. Remove action link.\n                trigger.remove();\n\n                // 2. Transform container into details trigger.\n                container.addClass('ph-item-details-trigger')\n                         .attr('tabindex', '0')\n                         .attr('role', 'button')\n                         .css('cursor', 'pointer');\n\n                // 3. Apply visual states via CSS Classes.\n                if (isLimit) {\n                    imgWrapper.addClass('ph-state-grayscale');\n                    // Badge Check.\n                    container.append('<span class=\"badge bg-success rounded-circle ph-badge-bottom-right\">' +\n                        '<i class=\"fa fa-check\"></i></span>');\n                } else {\n                    imgWrapper.addClass('ph-state-dimmed');\n                    // Badge Timer (With data-no-label to hide text).\n                    container.append('<div class=\"ph-timer badge bg-light text-dark border shadow-sm ph-badge-bottom-center\" ' +\n                        'data-deadline=\"' + resp.cooldown_deadline + '\" data-no-label=\"1\">...</div>');\n                }\n            }\n\n        } else {\n            // Visual feedback for successful collection without cooldown.\n            if (mode === 'text') {\n                trigger.css('opacity', '1').css('pointer-events', 'auto');\n                var oldColor = trigger.css('color');\n                trigger.css('color', '#28a745');\n                setTimeout(function() {\n                    trigger.css('color', oldColor);\n                }, 1000);\n            } else {\n                // Image mode: just remove loading opacity.\n                trigger.css('opacity', '1').css('pointer-events', 'auto');\n            }\n        }\n    };\n\n    /**\n     * Updates the main Widget and Sidebar HUDs.\n     *\n     * @param {Object} data General game data (XP, Level, Progress).\n     * @param {Object|null} itemData Data of the collected item (optional).\n     */\n    var updateHud = function(data, itemData) {\n        var containers = $('.playerhud-widget-container, .block_playerhud_sidebar');\n\n        containers.each(function() {\n            var container = $(this);\n\n            // Update parent class only for Widget (for left border color).\n            // Sidebar should not receive this class on parent to avoid full background color.\n            if (container.hasClass('playerhud-widget-container')) {\n                container.removeClass(function(index, className) {\n                    return (className.match(/(^|\\s)ph-lvl-tier-\\S+/g) || []).join(' ');\n                }).addClass(data.level_class);\n            }\n\n            // A. Update progress bar.\n            var progressBar = container.find('.progress-bar');\n            progressBar.css('width', data.progress + '%').attr('aria-valuenow', data.progress);\n            progressBar.removeClass(function(index, className) {\n                return (className.match(/(^|\\s)ph-lvl-tier-\\S+/g) || []).join(' ');\n            }).addClass(data.level_class);\n\n            // B. Update Level Badge.\n            var levelBadge = container.find('.badge').filter(function() {\n                return $(this).text().match(/(Level|N√≠vel)/) || $(this).attr('class').match(/ph-lvl-tier-/);\n            });\n\n            if (levelBadge.length) {\n                levelBadge.removeClass(function(index, className) {\n                    return (className.match(/(^|\\s)ph-lvl-tier-\\S+/g) || []).join(' ');\n                }).addClass(data.level_class);\n\n                var oldTxt = levelBadge.text();\n                var label = (oldTxt.indexOf('N√≠vel') > -1) ? 'N√≠vel' : 'Level';\n                var lvlString = data.level;\n                if (typeof data.max_levels !== 'undefined' && data.max_levels > 0) {\n                    lvlString += '/' + data.max_levels;\n                }\n                levelBadge.text(label + ' ' + lvlString);\n            }\n\n            // C. Update XP Text.\n            container.find('span, div, strong').each(function() {\n                var el = $(this);\n                if (el.children().length === 0 && el.text().indexOf('XP') > -1) {\n                    var xpString = data.currentxp;\n                    if (typeof data.xp_target !== 'undefined' && data.xp_target > 0) {\n                        xpString += ' / ' + data.xp_target;\n                    }\n                    xpString += ' XP';\n                    if (data.is_win) {\n                        xpString += ' üèÜ';\n                    }\n                    el.text(xpString);\n                }\n            });\n        });\n\n        // --- Update Item Stash ---\n        if (itemData) {\n            var stashes = $('.ph-sidebar-stash, .ph-widget-stash');\n\n            stashes.each(function() {\n                var stash = $(this);\n                var wrapper = stash.closest('.ph-stash-wrapper');\n                if (wrapper.length) {\n                    wrapper.show();\n                }\n                stash.find('.text-muted').remove();\n\n                var contentHtml = '';\n                if (String(itemData.isimage) === '1') {\n                    contentHtml = '<img src=\"' + itemData.image + '\" alt=\"\" ' +\n                        'style=\"width: 100%; height: 100%; object-fit: contain;\">';\n                } else {\n                    contentHtml = '<span class=\"ph-mini-emoji\" aria-hidden=\"true\" ' +\n                        'style=\"font-size:1.2rem; line-height: 1;\">' + itemData.image + '</span>';\n                }\n\n                var classes = 'ph-mini-item ph-item-trigger border bg-white rounded ' +\n                    'd-flex align-items-center justify-content-center overflow-hidden position-relative shadow-sm';\n\n                var newItem = $('<div class=\"' + classes + '\" role=\"button\" tabindex=\"0\"></div>');\n\n                newItem.css({\n                    'width': '34px',\n                    'height': '34px',\n                    'min-width': '34px',\n                    'margin-right': '2px',\n                    'margin-bottom': '2px'\n                });\n\n                newItem.attr('data-name', itemData.name);\n                newItem.attr('data-xp', itemData.xp);\n                newItem.attr('data-image', itemData.image);\n                newItem.attr('data-isimage', itemData.isimage);\n                newItem.attr('data-date', itemData.date);\n                newItem.attr('title', itemData.name);\n                newItem.attr('aria-label', itemData.name);\n\n                newItem.append('<div class=\"d-none ph-item-description-content\">' + itemData.description + '</div>');\n                newItem.append(contentHtml);\n\n                stash.children().filter(function() {\n                    return $(this).attr('data-name') === itemData.name;\n                }).remove();\n\n                newItem.hide();\n                stash.prepend(newItem);\n                newItem.fadeIn();\n\n                var limit = stash.hasClass('ph-widget-stash') ? 14 : 6;\n                var items = stash.children('.ph-mini-item');\n                if (items.length > limit) {\n                    items.last().remove();\n                }\n            });\n        }\n    };\n\n    return {\n        /**\n         * Initialize the module.\n         *\n         * @param {Object} strings Language strings.\n         */\n        init: function(strings) {\n\n            var $modal = $('#phItemModalFilter');\n            if ($modal.length) {\n                $modal.appendTo('body');\n            }\n\n            // 1. Details Modal Trigger (Unified for all modes).\n            $('body').on('click keydown', '.ph-item-details-trigger', function(e) {\n                if (e.type === 'keydown' && e.key !== 'Enter' && e.key !== ' ') {\n                    return;\n                }\n                e.preventDefault();\n\n                var trigger = $(this);\n                // Look for data in self or parent container.\n                var container = trigger.closest('.playerhud-item-card, .ph-drop-image-container');\n                if (container.length === 0) {\n                    container = trigger;\n                }\n\n                var name = container.attr('data-name');\n                var descB64 = container.attr('data-desc-b64');\n                var img = container.attr('data-image');\n                var isImg = container.attr('data-isimage');\n\n                $('#phModalTitleF, #phModalNameF').text(name);\n\n                var descHtml = '';\n                try {\n                    descHtml = decodeURIComponent(escape(window.atob(descB64)));\n                } catch (err) {\n                    descHtml = '...';\n                }\n                $('#phModalDescF').html(descHtml);\n\n                var imgCont = $('#phModalImageContainerF');\n                imgCont.empty();\n                if (isImg == '1') {\n                    imgCont.append($('<img>', {src: img, style: 'max-width:80px;'}));\n                } else {\n                    imgCont.append($('<span>', {style: 'font-size:50px;', text: img}));\n                }\n\n                var modalEl = document.getElementById('phItemModalFilter');\n                if (modalEl) {\n                    if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {\n                        bootstrap.Modal.getOrCreateInstance(modalEl).show();\n                    } else {\n                        $(modalEl).modal('show');\n                    }\n                }\n            });\n\n            // 2. Collect Action (AJAX).\n            $('body').on('click', '.ph-action-collect', function(e) {\n                e.preventDefault();\n                var trigger = $(this);\n                var mode = trigger.attr('data-mode') || 'card';\n\n                if (trigger.hasClass('disabled') || trigger.attr('disabled')) {\n                    return;\n                }\n\n                // Visual loading feedback.\n                var originalHtml = trigger.html();\n                var originalWidth = trigger.css('width');\n\n                if (mode === 'card') {\n                    trigger.css('width', trigger.outerWidth() + 'px');\n                    trigger.html('<i class=\"fa fa-spinner fa-spin\"></i>').addClass('disabled');\n                } else {\n                    trigger.css('opacity', '0.5').css('pointer-events', 'none');\n                }\n\n                var url = trigger.attr('href');\n                var ajaxUrl = url + (url.indexOf('?') === -1 ? '?' : '&') + 'ajax=1';\n\n                $.ajax({\n                    url: ajaxUrl,\n                    method: 'GET',\n                    dataType: 'json',\n                    success: function(resp) {\n                        if (resp.success) {\n                            // Update Card Badge if exists.\n                            var card = trigger.closest('.playerhud-item-card');\n                            if (card.length) {\n                                var badge = card.find('.ph-badge-count');\n                                var currentCount = parseInt(badge.text().replace('x', ''), 10) || 0;\n                                badge.text('x' + (currentCount + 1)).removeClass('d-none').show();\n                            }\n\n                            // State variables.\n                            var hasTimer = (resp.cooldown_deadline && resp.cooldown_deadline > 0);\n                            var isLimit = resp.limit_reached;\n\n                            // Update UI state.\n                            if (mode === 'text' || mode === 'image') {\n                                handleTextImageMode(trigger, mode, hasTimer, isLimit, resp);\n                            } else {\n                                handleCardMode(trigger, card, hasTimer, isLimit, resp, strings, originalHtml);\n                            }\n\n                            // Update Sidebar/Widget.\n                            if (resp.game_data) {\n                                updateHud(resp.game_data, resp.item_data);\n                            }\n\n                        } else {\n                            restaurar(trigger, originalHtml, mode, originalWidth);\n                            Notification.alert('Ops', resp.message, 'OK');\n                        }\n                    },\n                    error: function() {\n                        restaurar(trigger, originalHtml, mode, originalWidth);\n                        Notification.alert('Erro', strings.error, 'OK');\n                    }\n                });\n            });\n        }\n    };\n});\n"],"names":["define","$","Notification","restaurar","btn","html","mode","width","removeClass","css","init","strings","$modal","length","appendTo","on","e","type","key","preventDefault","trigger","this","container","closest","name","attr","descB64","img","isImg","text","descHtml","decodeURIComponent","escape","window","atob","err","imgCont","empty","append","src","style","modalEl","document","getElementById","bootstrap","Modal","getOrCreateInstance","show","modal","hasClass","originalHtml","originalWidth","outerWidth","addClass","url","ajaxUrl","indexOf","ajax","method","dataType","success","resp","card","badge","find","currentCount","parseInt","replace","hasTimer","cooldown_deadline","isLimit","limit_reached","removeAttr","imgWrapper","first","remove","oldColor","setTimeout","handleTextImageMode","tHtml","tBtn","replaceWith","focus","collected","handleCardMode","game_data","data","itemData","item_data","each","index","className","match","join","level_class","progressBar","progress","levelBadge","filter","label","lvlString","level","max_levels","el","children","xpString","currentxp","xp_target","is_win","stash","wrapper","contentHtml","String","isimage","image","newItem","xp","date","description","hide","prepend","fadeIn","limit","items","last","alert","message","error"],"mappings":"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"}