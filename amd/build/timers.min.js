/**
 * Timer logic for PlayerHUD Block.
 *
 * @module     block_playerhud/timers
 * @copyright  2026 Jean LÃºcio
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_playerhud/timers",["jquery"],(function($){return{init:function(strings){if(window.phTimerInterval)return;const updateTimers=()=>{const now=Math.floor(Date.now()/1e3);let reloadNeeded=!1;$(".ph-timer").each((function(){const el=$(this);if(el.data("reloading"))return;const deadline=parseInt(el.attr("data-deadline"));if(isNaN(deadline))return;const diff=deadline-now;if(diff<=0)el.text(strings.ready),el.removeClass("text-muted").addClass("text-success fw-bold"),el.data("reloading",!0),reloadNeeded=!0;else{const s=diff%60,timeString=Math.floor(diff/60)+"m "+(s<10?"0":"")+s+"s",label=!el.attr("data-no-label")&&strings.label?strings.label+" ":"";el.text(label+timeString)}})),reloadNeeded&&setTimeout((()=>{location.reload()}),1500)};window.phTimerInterval=setInterval(updateTimers,1e3),updateTimers()}}}));

//# sourceMappingURL=timers.min.js.map