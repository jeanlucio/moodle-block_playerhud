/**
 * Timer logic for PlayerHUD Block.
 *
 * @module     block_playerhud/timers
 * @copyright  2026 Jean LÃºcio
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_playerhud/timers",["jquery"],(function($){return{init:function(strings){if(!window.phTimerInterval){var updateTimers=function(){var now=Math.floor(Date.now()/1e3),reloadNeeded=!1;$(".ph-timer").each((function(){var el=$(this);if(!el.data("reloading")){var deadline=parseInt(el.attr("data-deadline"));if(!isNaN(deadline)){var diff=deadline-now;if(diff<=0)el.text(strings.ready),el.removeClass("text-muted").addClass("text-success fw-bold"),el.data("reloading",!0),reloadNeeded=!0;else{var s=diff%60,timeString=Math.floor(diff/60)+"m "+(s<10?"0":"")+s+"s",label=strings.label?strings.label+" ":"";el.text(label+timeString)}}}})),reloadNeeded&&setTimeout((function(){location.reload()}),1500)};window.phTimerInterval=setInterval(updateTimers,1e3),updateTimers()}}}}));

//# sourceMappingURL=timers.min.js.map